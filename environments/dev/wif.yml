# -----------------------------------------------------------------------
# Workload Identity Federation configuration
#
# workloads: in-cluster K8s ServiceAccount → GCP SA bindings
#   name                - short workload name, used to name the GCP SA
#   k8s_namespace       - Kubernetes namespace the workload runs in
#   k8s_service_account - Kubernetes ServiceAccount name
#   gcp_roles           - GCP IAM roles to grant the workload SA
#
# github_ci: GitHub Actions repo → GCP SA bindings (no K8s SA involved)
#   name                - short name, used to name the GCP SA
#   github_repo         - GitHub repo in 'owner/repo' format
#   gcp_roles           - GCP IAM roles to grant the SA
# -----------------------------------------------------------------------
workloads:
  - name: frontend-web
    k8s_namespace: default
    k8s_service_account: frontend-web
    gcp_roles:
      - roles/storage.objectViewer

github_ci:
  - name: hippo-helm-publisher
    github_repo: mosavani/hippo_k8s-service
    gcp_roles:
      - roles/artifactregistry.writer
